import{j as e,aN as P,aO as O,aP as I,aQ as M,aR as E,v as z,aM as l,aH as c,aT as T,J as p,I as u}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e10.js";import{a as x}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e4.js";import{u as W}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e19.js";import{n as A,o as D}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e22.js";import{S as F,a as B}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e162.js";import{b as R}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e105.js";import{a as G,b as H,c as Y}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e35.js";import{c as J}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e36.js";import{C as Q}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e37.js";import{I as U}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e163.js";import{H as q}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e75.js";import{W as K}from"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e18.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e8.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e5.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e7.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e6.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e2.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e3.js";import"./v_7_4_0_1_4b8cc392-a410-45f6-b662-85abdad9c03e9.js";function ge({setListagem:h,perfilBase:g}){const{language:s}=W(),{close:j}=A(),{open:f}=D(),[t,v]=x.useState({sexo:"",dataNascimento:"",cidade:"",estado:"",origemLead:"",entrada:"",saida:"",empresa:"",cargo:"",produtos:[]}),[d,m]=x.useState(""),o=async(a,r)=>{v({...t,[a]:r})},N=()=>{if(d.length<3){u({type:"Error",message:s.insertProductNameAtLeast3Chars,position:"top-right"});return}const a=[...t.produtos,d];o("produtos",a),m("")},w=[{name:"Whatsapp",ico:e.jsx(P,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Youtube",ico:e.jsx(O,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Facebook",ico:e.jsx(G,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Instagram",ico:e.jsx(I,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Linkedin",ico:e.jsx(H,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Tik Tok",ico:e.jsx(M,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Google",ico:e.jsx(Y,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Site",ico:e.jsx(E,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:s.formulary,ico:e.jsx(J,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"CRM",ico:e.jsx(Q,{size:"20px",color:"var(--icon)"})},{name:s.others,ico:e.jsx(q,{size:"20px",color:"var(--icon)"})}],b=a=>{let r=[...t.produtos];r=r.filter(n=>n!==a),o("produtos",r)},y=()=>{const a=[{name:s.cancelSelection,value:""},{name:s.male,value:s.male},{name:s.female,value:s.female}];return e.jsx(c,{name:s.gender,estado:t.sexo.length===0?s.selectGender:t.sexo,children:e.jsx("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 mt-2 mr-4",children:a.map((r,n)=>e.jsx("li",{children:e.jsx("div",{className:"flex",onClick:()=>o("sexo",r.value),children:e.jsx("span",{children:r.name})})},n))})})},C=()=>e.jsxs("div",{className:"py-1 grid gap-2",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.produtos.map((a,r)=>e.jsxs("div",{className:"badge bg-[var(--primaria)] gap-1 flex",children:[e.jsx("span",{className:"font-medium text-[var(--letra)]",children:a}),e.jsx("span",{className:"pulse cursor-pointer",onClick:()=>b(a),children:e.jsx(U,{className:"w-5 h-5 text-[var(--letra)]"})})]},r))}),e.jsxs("div",{className:"flex items-end justify-start gap-2 w-full",children:[e.jsx("div",{className:"w-full",children:e.jsx(l,{name:s.productsInterest,btnClose:!0,placeholder:s.insertProductInterest,estado:d,setEstado:a=>m(a.target.value)})}),e.jsx("div",{children:e.jsx(p,{name:s.insert,funcao:N})})]})]}),S=async()=>{j();let a=g.map(n=>({id:n.userID,...n}));const r=n=>Array.isArray(n)?n.map(i=>i.toLowerCase()):n.toLowerCase();a=a.filter(n=>{for(let i in t)if(i==="produtos"&&t[i].length>0){if(!t[i].every(k=>n[i].map(L=>L.toLowerCase()).includes(k.toLowerCase())))return!1}else if(t[i].length!==0&&r(n[i])!==r(t[i]))return!1;return!0}),h(await K.Utils("get-crmContatos",a)),u({type:"Success",message:s.filtragemContatosRealizada,position:"top-right"})};return e.jsxs("div",{className:"w-[450px] grid gap-4",children:[e.jsx(z,{children:s.filtragemAvancada}),e.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 105px)"},children:[e.jsxs("div",{className:"flex gap-3 justify-between flex-wrap",children:[e.jsx("div",{className:"my-auto",children:y()}),e.jsx("div",{className:"my-auto",children:e.jsx(l,{name:s.dateOfBirth,placeholder:s.dateOfBirth,type:"Date",estado:t.dataNascimento,setEstado:a=>o("dataNascimento",a.target.value),children:e.jsx("input",{type:"date",className:"bg-[var(--search-input-background)] w-[20px] dateON cursor-pointer",value:t.dataNascimento,onChange:a=>o("dataNascimento",a.target.value)})})})]}),e.jsxs("div",{className:"p-2 mb-3 grid gap-3",children:[e.jsx(l,{name:s.city,btnClose:!0,placeholder:s.insertCity,estado:t.cidade,setEstado:a=>o("cidade",a.target.value),children:e.jsx(R,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})}),e.jsx("div",{onClick:a=>f(e.jsx(F,{onSelect:r=>o("estado",r)}),{placement:"left"},a.currentTarget,0),children:e.jsx(c,{name:s.state,estado:t.estado&&t.estado.length!==0?t.estado:s.nenhumSelecionado})}),e.jsx(c,{name:s.originOfLead,estado:t.origemLead.length===0?s.selectOrigin:t.origemLead,children:e.jsx("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 mt-2 h-[320px] overflow-auto grid",children:w.map((a,r)=>e.jsx("li",{children:e.jsxs("div",{className:"flex",onClick:()=>o("origemLead",a.name),children:[e.jsx("span",{children:a.ico}),e.jsx("span",{children:a.name})]})},r))})}),e.jsxs("div",{className:"flex gap-3 justify-between flex-wrap",children:[e.jsx("div",{className:"my-auto",children:e.jsx(l,{name:s.entryDate,type:"Date",estado:t.entrada,setEstado:a=>o("entrada",a.target.value),children:e.jsx("input",{type:"date",className:"bg-[var(--search-input-background)] w-[20px] dateON cursor-pointer",value:t.entrada,onChange:a=>o("entrada",a.target.value)})})}),e.jsx("div",{className:"my-auto",children:e.jsx(l,{name:s.departureDate,type:"Date",estado:t.saida,setEstado:a=>o("saida",a.target.value),children:e.jsx("input",{type:"date",className:"bg-[var(--search-input-background)] w-[20px] dateON cursor-pointer",value:t.saida,onChange:a=>o("saida",a.target.value)})})})]})]}),e.jsxs("div",{className:"p-2 mb-3 grid gap-3",children:[e.jsx(l,{name:s.company,btnClose:!0,placeholder:s.addCompany,estado:t.empresa,setEstado:a=>o("empresa",a.target.value),children:e.jsx(B,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})}),e.jsx(l,{name:s.job,btnClose:!0,placeholder:s.jobTitle,estado:t.cargo,setEstado:a=>o("cargo",a.target.value),children:e.jsx(T,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})}),C()]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(p,{name:s.filtrar,funcao:S})})]})]})}export{ge as default};
